<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 Designing a Survey | Guidance for Implementing a Statistical Survey</title>
<meta name="author" content="Garrett Stillings">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="1 Designing a Survey | Guidance for Implementing a Statistical Survey">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1 Designing a Survey | Guidance for Implementing a Statistical Survey">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
<meta name="description" content="Define the Target Population In designing an aquatic resource monitoring survey, the designer must define what aquatic resource is to be monitored, otherwise known as the Target Population. For...">
<meta property="og:description" content="Define the Target Population In designing an aquatic resource monitoring survey, the designer must define what aquatic resource is to be monitored, otherwise known as the Target Population. For...">
<meta name="twitter:description" content="Define the Target Population In designing an aquatic resource monitoring survey, the designer must define what aquatic resource is to be monitored, otherwise known as the Target Population. For...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Guidance for Implementing a Statistical Survey</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="background.html">Background</a></li>
<li><a class="active" href="designing-a-survey.html"><span class="header-section-number">1</span> Designing a Survey</a></li>
<li><a class="" href="weights.html"><span class="header-section-number">2</span> Weights</a></li>
<li><a class="" href="condition-estimates.html"><span class="header-section-number">3</span> Condition Estimates</a></li>
<li><a class="" href="visualization.html"><span class="header-section-number">4</span> Visualization</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/gstillings-EPA/Survey_Guidance">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="designing-a-survey" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Designing a Survey<a class="anchor" aria-label="anchor" href="#designing-a-survey"><i class="fas fa-link"></i></a>
</h1>
<p><strong>Define the Target Population</strong>
In designing an aquatic resource monitoring survey, the designer must define what aquatic resource is to be monitored, otherwise known as the <strong>Target Population</strong>. For example, if the designer only has an interest in assessing the condition of perennial waters in a state, the target population is defined as perennial waters and intermittent and ephemeral waters are defined as non-target populations and are omitted from the selection process. The target population should align with your organizations monitoring strategy and objectives.</p>
<p><strong>Select a Sample Frame of the Target Population</strong>
Next, the designer must select a <strong>Sample Frame</strong> to use when selecting potential sampling sites. A sample frame is a GIS representation (e.g.Â shapefile) of the aquatic resource target population such as <a href="https://www.usgs.gov/core-science-systems/ngp/national-hydrography"><em>National Hydrography Datasets</em></a>. In the example above, the designer will select a dataset which only includes perennial waters. This process often involves extracting a subset of a dataset which contains non-target resources.</p>
<center>
<img src="images/SampleFrame.PNG" title="fig:" style="width:80.0%" alt="Illustration of a sample frame is constructed">
</center>
<p>Sample frames for NARS and states may differ due to different target populations, source material, and state knowledge leading to improvements. For partners to leverage NARS fully, requesting the integration of a partners sample frame can possibly be accommodated.</p>
<center>
<img src="images/Partner_SF.PNG" title="fig:" style="width:80.0%" alt="Illustration of a partner sample frame integration">
</center>
<p>Once the target population has been defined and a sample frame of the target population has been selected, the designer can now prepare survey. The code below shows how a survey was designed using a population of lakes in the Northeast US. This sample frame is found in the package <code>spsurvey</code> and is not meant for use other than as an example.</p>
<p><strong>NOTE</strong> To upload your own sample frame, you may use the code below to read a file as an sf_object which is required by spsurvey to design a survey.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>

<span class="co">#Example to read a shapefile</span>
<span class="va">my_sample_frame</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="st">"path to my sample frame.shp"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Load the spsurvey package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/USEPA/spsurvey">spsurvey</a></span><span class="op">)</span>

<span class="co">#To view the NE_Lakes sf object which contains the target population</span>
<span class="va">NE_Lakes</span> <span class="op">&lt;-</span> <span class="fu">spsurvey</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/spsurvey/man/NE_Lakes.html">NE_Lakes</a></span>

<span class="co">#Plot NE_Lakes </span>
<span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/plot.html">plot</a></span><span class="op">(</span><span class="va">NE_Lakes</span>, 
     pch <span class="op">=</span> <span class="fl">19</span>,
     main<span class="op">=</span> <span class="st">"NE Lakes"</span>,
     key.width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">lcm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdownproj_files/figure-html/unnamed-chunk-2-1.png" width="672"></div>
<p>For a state scale monitoring survey, it is generally accepted that sampling 50 sites gives sufficient confidence when calculating condition estimates. This sample size can vary depending on the size of the sample frame. Below we prepare an unstratified equal probability survey in which all lakes in the sample frame have the same chance of being selected regardless of size or other attributes.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">EQ_PROB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/grts.html">grts</a></span><span class="op">(</span>
  <span class="va">NE_Lakes</span>,
  n_base <span class="op">=</span> <span class="fl">50</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/plot.html">plot</a></span><span class="op">(</span>
  <span class="va">EQ_PROB</span>,
  <span class="va">NE_Lakes</span>,
  main<span class="op">=</span> <span class="st">"Base Sample Sites"</span>,
  pch <span class="op">=</span> <span class="fl">19</span>,
  key.width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">lcm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="bookdownproj_files/figure-html/unnamed-chunk-3-1.png" width="50%"></div>
<p>Above, the plot displays the survey sites selected within the sample frame. Use the function <strong>spsurvey::sprbind()</strong> to obtain the information about each survey site.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Binds survey site </span>
<span class="va">EQ_PROB_INFO</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/sprbind.html">sprbind</a></span><span class="op">(</span><span class="va">EQ_PROB</span><span class="op">)</span>

<span class="co">#View the first 5 rows</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">EQ_PROB_INFO</span>, <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>## Simple feature collection with 5 features and 14 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: 1889892 ymin: 2267943 xmax: 2053628 ymax: 2390183
## Projected CRS: NAD83 / Conus Albers
##    siteID siteuse replsite lon_WGS84 lat_WGS84 stratum wgt   ip caty      AREA
## 1 Site-01    Base     None -72.80922  41.31303    None   4 0.25 None  1.467758
## 2 Site-02    Base     None -72.22505  41.62353    None   4 0.25 None  2.902965
## 3 Site-03    Base     None -70.72533  42.04078    None   4 0.25 None 12.311900
## 4 Site-04    Base     None -72.43644  42.05235    None   4 0.25 None  1.374411
## 5 Site-05    Base     None -72.83123  41.89970    None   4 0.25 None 12.496624
##   AREA_CAT  ELEV ELEV_CAT        LEGACY                geometry
## 1    small 53.98      low          &lt;NA&gt; POINT (1907514 2267943)
## 2    small 95.42      low          &lt;NA&gt; POINT (1945966 2313484)
## 3    large 19.56      low          &lt;NA&gt; POINT (2053628 2390183)
## 4    small 75.70      low LEGACY_SITE_1 POINT (1917247 2355684)
## 5    large 89.77      low          &lt;NA&gt; POINT (1889892 2331214)</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Creates an sframe object of northeast lakes found in the spsurvey package</span>
<span class="va">NE_Lakes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/sframe.html">sframe</a></span><span class="op">(</span><span class="va">NE_Lakes</span><span class="op">)</span>

<span class="co">#Plot NE_Lakes stratified by Area Category</span>
<span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/plot.html">plot</a></span><span class="op">(</span><span class="va">NE_Lakes</span>, 
     formula <span class="op">=</span> <span class="op">~</span> <span class="va">AREA_CAT</span>,
     main<span class="op">=</span> <span class="st">"NE Lakes by Area Category"</span>,
     pch <span class="op">=</span> <span class="fl">19</span>,
     key.width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">lcm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span>

<span class="co">#Summarize NE_lakes by Area Category</span>
<span class="va">summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/summary.html">summary</a></span><span class="op">(</span><span class="va">NE_Lakes</span>, formula <span class="op">=</span> <span class="op">~</span> <span class="va">AREA_CAT</span><span class="op">)</span>


<span class="va">propprob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/grts.html">grts</a></span><span class="op">(</span>
  <span class="va">NE_Lakes</span>,
  n_base <span class="op">=</span> <span class="fl">50</span>,
  seltype <span class="op">=</span> <span class="st">"proportional"</span>,
  aux_var <span class="op">=</span> <span class="st">"AREA"</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/plot.html">plot</a></span><span class="op">(</span>
  <span class="va">propprob</span>,
  formula <span class="op">=</span> <span class="va">siteuse</span> <span class="op">~</span> <span class="va">AREA_CAT</span>,
  <span class="va">NE_Lakes</span>,
  pch <span class="op">=</span> <span class="fl">19</span>,
  key.width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">lcm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-5-1.png" width="50%"><img src="bookdownproj_files/figure-html/unnamed-chunk-5-2.png" width="50%"><img src="bookdownproj_files/figure-html/unnamed-chunk-5-3.png" width="50%"></p>
<p>10 acres</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Create a vector defining stratified sample size</span>
<span class="va">strata_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>small <span class="op">=</span> <span class="fl">35</span>, large <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>

<span class="co">#Select a stratified GRTS sample </span>
<span class="va">STRAT_PROB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/grts.html">grts</a></span><span class="op">(</span>
  <span class="va">NE_Lakes</span>,
  n_base <span class="op">=</span> <span class="va">strata_n</span>,
  stratum_var <span class="op">=</span> <span class="st">"AREA_CAT"</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/spsurvey/man/plot.html">plot</a></span><span class="op">(</span>
  <span class="va">STRAT_PROB</span>,
  formula <span class="op">=</span> <span class="va">siteuse</span> <span class="op">~</span> <span class="va">AREA_CAT</span>,
  <span class="va">NE_Lakes</span>,
  pch <span class="op">=</span> <span class="fl">19</span>,
  key.width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">lcm</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-6-1.png" width="50%"><img src="bookdownproj_files/figure-html/unnamed-chunk-6-2.png" width="50%"></p>

</div>
  <div class="chapter-nav">
<div class="prev"><a href="background.html">Background</a></div>
<div class="next"><a href="weights.html"><span class="header-section-number">2</span> Weights</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li><a class="nav-link" href="#designing-a-survey"><span class="header-section-number">1</span> Designing a Survey</a></li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/gstillings-EPA/Survey_Guidance/blob/master/03-survey_design.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/gstillings-EPA/Survey_Guidance/edit/master/03-survey_design.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Guidance for Implementing a Statistical Survey</strong>" was written by Garrett Stillings. It was last built on 2021-09-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
